# Docker简介

虚拟机属于虚拟化技术，而Docker这样的容器技术，也是虚拟化技术，属于**轻量级的虚拟化**。

虚拟机虽然可以隔离出很多“子电脑”，但占用空间更大，启动更慢，虚拟机软件可能还要花钱（例如VMWare）。

容器技术恰好没有这些缺点。它不需要虚拟出整个操作系统，只需要虚拟一个小规模的环境（类似“沙箱”）。

Docker容器启动时间很快，几秒钟就能完成。而且，它对资源的利用率很高（一台主机可以同时运行几千个Docker容器）。此外，它占的空间很小，虚拟机一般要几GB到几十GB的空间，而容器只需要MB级甚至KB级。

以下是对比：

​	

| 特性       | 虚拟机           | 容器             |
| ---------- | ---------------- | ---------------- |
| 隔离级别   | 操作系统级       | 进程级           |
| 隔离策略   | Hypervisor       | CGroups          |
| 系统资源   | 5~15%            | 0~5%             |
| 启动时间   | 分钟级           | 秒级             |
| 镜像存储   | GB~TB            | KB~MB            |
| 集群规模   | 上百             | 上万             |
| 高可用策略 | 备份、容灾、迁移 | 弹性、负载、动态 |



**Docker**本身并不是容器，它是创建容器的工具，是应用容器引擎。



Docker口号：

1. Build, Ship and Run
2. Build once, Run anywhere



Docker技术三大核心概念：

1. 镜像（Image）
2. 容器（Container）
3. 仓库（Repository）



Docker镜像，Docker容器，Docker仓库。



Docker镜像，是一个特殊的文件系统。它除了提供容器运行时所需的程序、库、资源、配置等文件外，还包含了一些为运行时准备的一些配置参数（例如环境变量）。镜像不包含任何动态数据，其内容在构建之后也不会被改变。

利用Docker镜像，我们可以创建一个Docker容器。

我们怎么管理这些Docker镜像呢？

负责对Docker镜像进行管理的，是**Docker Registry服务**。

## Linux容器

Linux 容器（Linux Containers，缩写为 LXC）。

**Linux 容器不是模拟一个完整的操作系统，而是对进程进行隔离。**

在正常进程的外面套了一个[保护层](https://opensource.com/article/18/1/history-low-level-container-runtimes)。对于容器里面的进程来说，它接触到的各种资源都是虚拟的，从而实现与底层系统的隔离。

**Docker 属于 Linux 容器的一种封装，提供简单易用的容器使用接口。**

Docker 将应用程序与该程序的依赖，打包在一个文件里面。运行这个文件，就会生成一个虚拟容器。程序在这个虚拟容器里运行，就好像在真实的物理机上运行一样。有了 Docker，就不用担心环境问题。

总体来说，Docker 的接口相当简单，用户可以方便地创建和使用容器，把自己的应用放入容器。容器还可以进行版本管理、复制、分享、修改，就像管理普通的代码一样。